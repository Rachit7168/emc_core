{% extends 'web/dashboard_base.html' %}

{% block dashboard_content %}
<div class="max-w-2xl mx-auto mt-10">
    <div class="flex justify-between items-center mb-8">
        <h2 class="text-3xl font-bold text-white">Edit Item</h2>
        <a href="{% url 'dashboard_menu' %}" class="text-gray-400 hover:text-white transition">Cancel</a>
    </div>

    <div class="bg-zinc-900 border border-white/10 p-8 rounded-2xl">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="space-y-6">
                <div class="flex items-center gap-6">
                    <div class="w-24 h-24 bg-zinc-800 rounded-lg overflow-hidden border border-white/20">
                        {% if item.image %}
                            <img src="{{ item.image.url }}" class="w-full h-full object-cover">
                        {% else %}
                            <img src="{{ item.image_url }}" class="w-full h-full object-cover opacity-50">
                        {% endif %}
                    </div>
                    <div>
                        <p class="text-sm text-gray-400 mb-2">Current Image</p>
                        <p class="text-xs text-amber-500">Upload a new file below to replace this.</p>
                    </div>
                </div>

                <div>
                    <label class="block text-xs uppercase text-gray-500 mb-2">Item Name</label>
                    <input name="name" type="text" value="{{ item.name }}" required 
                           class="w-full bg-black border border-white/20 rounded-lg p-4 text-white focus:border-amber-500 outline-none transition">
                </div>

                <div>
                    <label class="block text-xs uppercase text-gray-500 mb-2">Change Image</label>
                    <input name="image" type="file" accept="image/*" 
                           class="w-full bg-black border border-white/20 rounded-lg p-3 text-gray-400 text-sm focus:border-amber-500 outline-none file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-amber-500 file:text-black hover:file:bg-white cursor-pointer">
                </div>

                <div class="grid grid-cols-2 gap-6">
                    <div>
                        <label class="block text-xs uppercase text-gray-500 mb-2">Price (â‚¹)</label>
                        <input name="price" type="number" value="{{ item.price }}" required 
                               class="w-full bg-black border border-white/20 rounded-lg p-4 text-white focus:border-amber-500 outline-none transition">
                    </div>
                    <div>
                        <label class="block text-xs uppercase text-gray-500 mb-2">Brand</label>
                        <select name="brand" class="w-full bg-black border border-white/20 rounded-lg p-4 text-white focus:border-amber-500 outline-none appearance-none">
                            {% for brand in brands %}
                            <option value="{{ brand.key }}" {% if brand.id == item.brand.id %}selected{% endif %}>
                                {{ brand.name }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            
            <button type="submit" class="w-full mt-8 bg-amber-500 text-black font-bold py-4 rounded-xl hover:bg-white transition hover:scale-[1.02]">
                Save Changes
            </button>
        </form>
    </div>
</div>
{% endblock %}